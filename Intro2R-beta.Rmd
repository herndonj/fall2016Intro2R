---
title: "draft for Intro to R class"
author: "john"
date: "9/1/2016"
output: 
  html_document:
    toc: true
    toc_float: true
    number_sections: false
    theme: readable
    highlight: pygments
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


# Intro to R


## Housekeeping

1. welcome
2. what is r
3. what is RStudio
4. What is a Project
5. What is Docker

```{r load-packages}
require(rmarkdown)
require(dplyr)
require(ggplot2)
```

## Data Management

### Load Data
```{r get data}
?mtcars                # To get help, use precede command with '?' 
data("mtcars")         # load specified data set
```

##### Mention ??

* Import Dataset 

### View your data in a grid
```{r view}
View(mtcars)
```
##### Mention  ??

* An exploratory convenience, not "reproducible" in the sense of generating a report or leaveing a trail of your work
* Environment Pane has information about data objects
* View output has sorting 


### Structure of Data Object

```{r structure}
str(mtcars)
```

#### Mention ??
* `tbl_df()`
* `dim()`
* `class()`


### Missing Data

* `is.na()`
* `anyNA()`
* `na.omit()`

## Data Reshaping 

### Arrange

```{r arrange}
arrange(mtcars, cyl, desc(mpg), desc(hp), wt)
```

### Filter

```{r filter}
sixcyls <- filter(mtcars, cyl == 6)
```

> Exercises:  Show sixcyls grid in the source pane.  how many observations?  how many variables?

### Mutate

Add columns
```{r mutate}
sixcyls <- mutate(sixcyls, dispWt = disp / wt)
```


### Select
```{r select}
sixcyls <- select(sixcyls, mpg:wt)
```


### Count
```{r count}
tbl_df(sixcyls) %>% 
  count(hp)
```


### Put it all together
```{r alltogether}

mutate(mtcars, rownames(mtcars)) %>% 
  rename(makeModel = `rownames(mtcars)`) %>% 
  filter(cyl >= 4, cyl <= 6) %>% 
  select(makeModel, mpg:wt) %>%
  mutate(dispWt = disp / wt) %>% 
  arrange(desc(mpg), wt)

```

#### More information 

* https://cran.rstudio.com/web/packages/dplyr/vignettes/introduction.html 



## Basic Vis

When in the data exploratory phase, you can quickly generate very basic visualizations with minmal effort.  Your visualiations then appear in the Viewer Pane.  While you may not want to share these visualizations, the simplicity of generating quick histograms can help you understand your data as you begin thinking about your analysis.

Type these commans into your console.

To generate

* Histogram:  `hist(mtcars$mpg)`
* Scatterplot: `plot(mtcars$wt, mtcars$mpg)`
* Barplot:  `barplot(table(mtcars$cyl))`


## Better Vis via ggplot2

### ggplot2 Scatter Plot
```{r ggplot}
ggplot(mtcars, aes(x=wt, y=mpg)) +
  geom_point(shape = 1) + 
  geom_smooth(method = lm)
```

[more info on ggplot scatterplots](http://www.cookbook-r.com/Graphs/Scatterplots_(ggplot2)/)


### ggplot2 Bar Graph
```{r ggbarplot}
ggplot(data=mtcars, aes(x=cyl)) +
    geom_bar(stat="count")
```

[More Information on ggplot bar and line graphs](http://www.cookbook-r.com/Graphs/Bar_and_line_graphs_(ggplot2)/)

### ggplot2 Histogram
```{r gghist}
ggplot(mtcars, aes(x=mpg)) +
    geom_histogram(binwidth=1, colour="black", fill="white")
```

[More info on ggplot histograms](http://www.cookbook-r.com/Graphs/Plotting_distributions_(ggplot2))

### ggplot2 Line graph
```{r linegraph}
ggplot(data=mtcars, aes(x=mpg, y=wt, group=cyl, colour=cyl)) +
    geom_line() +
    geom_point()
```

[More info on Bargraphs](http://www.cookbook-r.com/Graphs/Bar_and_line_graphs_(ggplot2)/)

